{% extends 'base.html' %}
{% import 'bootstrap/wtf.html' as wtf %}
{% import '_macros.html' as macros %}

{% block page_content %}
<div class="page-header">
    {% if current_user.is_authenticated %}
    <p>hello, {{ current_user.name }}</p>
    {% else %}
    <p>stranger</p>
    {% endif %}
</div>
<div>
    {% if current_user.can(Permission.WRITE_ARTICLES) %}
    {{ wtf.quick_form(form) }}
    {% endif %}
</div>
<ul class="posts">
{% for post in posts %}
    <li class="post">
{#        <div class="post-thumbnail">#}
{#            <a href="{{ url_for('.user', username=post.author.name) }}"></a>#}
{#        </div>#}
        <div class="post-date">{{ post.timestamp }}</div>
        <div class="post-author">
{#            <a href="{{ url_for('.user', name=post.author.name) }}">#}
                {{ post.author.name }}
{#            </a>#}
        </div>
        <div class="post-body">{{ post.body }}</div>
    </li>
{% endfor %}
</ul>
{% if pagination %}
    <div class="pagination">
        {{ macros.pagination_widget(pagination, '.index') }}
    </div>
{% endif %}
{% endblock %}